#compdef nshell

LIST=()

prefix="${DOTFILES_ROOT}/nix/profiles/"
suffix=".nix"

for file in "${prefix}"*"${suffix}"; do
    tmp="${file#${prefix}}"
    LIST=("${tmp//${suffix}}" "${LIST}")
done

_arguments \
    "1:nix-shell profiles:(${LIST})" \
    "2:options:(--clean)"
